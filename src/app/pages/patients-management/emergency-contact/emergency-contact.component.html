<app-master-data-list
  [data]="data"
  [columns]="columns"
  [loading]="loading"
  [actions]="actions"
  [pageInfo]="pageInfo"
  (pageChange)="onPageChange($event)"
  (filter)="onFilter($event)"
>
  <ng-container actions-left>
    <app-master-data-search (search)="searchContact($event)"></app-master-data-search>
  </ng-container>
  <ng-container actions-right>
    <button
      nz-button
      nzType="primary"
      nzShape="circle"
      (click)="openCreatePanel()"
      *ngIf="perms.permissionsOnly([PK.MANAGE_PATIENTS])"
    >
      <i nz-icon nzType="plus"></i>
    </button>
  </ng-container>
</app-master-data-list>

<nz-drawer
  [nzMask]="true"
  [nzClosable]="true"
  [nzMaskClosable]="false"
  [nzVisible]="showCreateContact"
  nzPlacement="right"
  [nzTitle]="contacts?.length ? 'Edit Caregiver' : 'Create Caregiver'"
  (nzOnClose)="closeCreatePanel()"
>
  <app-form
    class="mt-3"
    [form]="contactForm"
    [formData]="contacts"
    [isLoading]="isLoading"
    [populateForm]="populateForm"
    [resetForm]="resetForm"
    [inputMode]="true"
    [showCancelButton]="false"
    (submitForm)="onSubmitForm($event)"
  >
  </app-form>
</nz-drawer>
